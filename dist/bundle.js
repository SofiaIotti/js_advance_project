document.getElementById("searchBtn").addEventListener("click",(function(){var e=document.getElementById("category").value,n="https://openlibrary.org/subjects/".concat(e,".json"),t=document.getElementById("loader"),a=document.getElementById("result");t.style.display="block",a.innerHTML="",axios.get(n).then((function(e){var n=e.data.works;console.log(e.data),t.style.display="none",function(e){var n=document.getElementById("result");n.innerHTML="",e.forEach((function(e){var t=document.createElement("div");t.className="book";var a=document.createElement("div");a.className="titleElement",a.innerHTML='<span class="arrow">&#9660;</span><h3>'.concat(e.title,"</h3><p>").concat(e.authors.map((function(e){return e.name})).join(", "),"</p>");var o=document.createElement("div");o.className="description",o.style.display="none",a.addEventListener("click",(function(){!function(e,n,t){var a="https://openlibrary.org".concat(e,".json");axios.get(a).then((function(e){var a=e.data.description&&e.data.description.value?e.data.description.value:"La descrizione non Ã¨ disponibile",o=t?"https://covers.openlibrary.org/b/id/".concat(t,"-M.jpg"):"https://via.placeholder.com/128x193.png?text=No+Cover";n.innerHTML='\n          <div class="bookDetails">\n            <img src="'.concat(o,'" alt="Cover Image" class="coverImage" />\n            <p>').concat(a,"</p>\n          </div>\n        "),n.style.display="none"===n.style.display?"block":"none"})).catch((function(e){console.error("Errore nel caricamento della descrizione:",e)}))}(e.key,o,e.cover_id)})),t.appendChild(a),t.appendChild(o),n.appendChild(t)}))}(n)})).catch((function(e){t.style.display="none",console.error("Errore durante la ricerca:",e)}))}));